## 组件测试

组件上需要测试的是组件的渲染是否正确，以及是否正常响应了对应的事件。对应的测试库有  `React's Test Renderer` 和 `React Native Testing Library`

组件级别的测试，是仅运行于Node.js的JS Test用例，对于平台导致的错误，则无法覆盖。

### 测试用户交互

比如文本输入，按钮点击

### 测试页面渲染

`Snapshot testing` 的缺点：

1. 大量的文本难以理解，不知道修改了啥
  
2. Snapshot 创建成功，只能说明代码执行成功，不能确保界面显示正确
  

适用的场景是：它不关注你逻辑是否正确，而关注与检查是否存在意外的修改。

|     | 优点  | 缺点  | 使用场景 |
| --- | --- | --- | --- |
| UT  | 一般是基于函数，开发自测 | 需要MOCK | 确保功能的正确性 |
| Intergration Test |     |     |     |
| Component Test |     |     |     |
| Testing User Interactions | 可以测试交互和渲染；速度快； | 不能保证样式的正确性；需要开发根据测试用例写单测； | 代替`E2E` |
| Testing Rendered Output | 能防止页面被意外修改 | 大量的`Snapshot`文本难以理解；Snapshot 创建成功，只能说明代码执行成功，不能确保界面显示正确 | 它不关注你逻辑是否正确，而关注与检查是否存在意外的修改。适用于底层公用组件。 |
| E2E Tests | 基于真机进行操作 | 写单测慢，运行慢； | 下单、支付等核心流程 |
